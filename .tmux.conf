# prefixキーをC-aに変更する
set -g prefix C-a
unbind C-b

# Start 'window' index 1 origin
set -g base-index 1

# Start 'pane' index 1 origin
setw -g pane-base-index 1

# Reload tmux conf
bind r source-file ~/.tmux.conf \; display "Reloaded!"
bind C-r source-file ~/.tmux.conf \; display "Reloaded!"

# Send C-a*2 to shell
bind C-a send-prefix

# Split window -h by "|"
bind | split-window -h -c "${pane_current_path}"

# Split window -v by "-"
bind - split-window -v -c "${pane_current_path}"

# Resize pane with vim-bind
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Move pane with vim-bind
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# Rotate movement pane
bind -n C-o select-pane -t :.+

# Enable mouse
setw -g mode-mouse on
set -g mouse-select-pane on
set -g mouse-resize-pane on


# Enable 256 colors
set -g default-terminal "screen-256color"

#
# COLOR:
#
# Color of status bar
set -g status-fg black
set -g status-bg yellow

# Color of window list
setw -g window-status-fg blue
setw -g window-status-bg default
setw -g window-status-attr dim

# Stand out active window
setw -g window-status-current-fg white
setw -g window-status-current-bg red
setw -g window-status-current-attr bright

# Stand out active pane bar
set -g pane-active-border-fg white
set -g pane-active-border-bg yellow

# Color of border of pane
set -g pane-border-fg green
set -g pane-border-bg black

# Color of commandline
set -g message-fg white
set -g message-bg black
set -g message-attr bright

# Left status bar
set -g status-left-length 40
set -g status-left "#[hg=black]Session: #S #[fg=blue]#I #[fg=blue]#P"
# Right status bar
set -g status-right "#[fg=blue][%Y-%m-%d(%a) %H:%M]"
# Enable utf-8 on status bar
set -g status-utf8 on
# Refresh time on status bar (default: 15)
set -g status-interval 60
# Centerize window list
set -g status-justify centre
# Enable visual notification
setw -g monitor-activity on
set -g visual-activity on
# Show status bar at top
set -g status-position top

# Enable vim bind
setw -g mode-keys vi

# Enable clipboard
set-option -g default-command \
'which reattach-to-user-namespace >/dev/null 2>&1 && \
reattach-to-user-namespace -l $SHELL || $SHELL'

# Enable vim bind when being copy-mode
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"
unbind -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"
